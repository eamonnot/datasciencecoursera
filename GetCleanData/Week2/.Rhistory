plot.ts(diff(filter(bf,c1), lag=25))
plot.ts(diff(filter(bf,c1), lag=50))
plot.ts(diff(filter(bf,c1), lag=100))
plot.ts(diff(filter(bf,c1), lag=2))
remove(c1_norm)
remove(m1)
remove(s1)
c1_fil <- filter(bf,c1)
c1_fil_dif <- diff(c1_fil)
c1_fil_dif_fil <- filter(bf,c1_fil_dif_fil)
c1_fil_dif_fil <- filter(bf,c1_fil_dif)
plot.ts(c1_fil_dif_fil)
plot.ts(c1_fil_dif)
c1_high <- c1_fil_dif_fil
c1_low <- c1_fil_dif_fil
for(i = 1:length(c1_high)){
for(i in 1:length(c1_high)){
if(c1_high[i] < 0) c1_high[i] = 0
}
for(i in 1:length(c1_low)){
if(c1_low[i] > 0) c1_low[i] = 0
}
plot.ts(c1_high)
plot.ts(c1_low)
ca_all <- c1_fil_dif_fil
for(i in 1:length(ca_all)){
}
ca_all <- abs(ca_all)
plot(ca_all)
mean(ca-all)
mean(ca_all)
c1_low <- c1_low * -1
plot(c1_low)
m1 <- mean(ca-all)
m1 <- mean(ca_all)
library(pracma)
findpeaks(c1_low, minpeakheight=m1)
findpeaks(c1_low[1:1399], minpeakheight=m1)
findpeaks(c1_high[1:1399], minpeakheight=m1)
plot.ts(c1)
abline(v=394,col="red")
plot.ts(c1)
abline(v=351,col="red")
abline(v=494,col="red")
abline(v=701,col="red")
abline(v=731,col="red")
abline(v=823,col="red")
abline(v=934,col="red")
abline(v=572,col="green")
abline(v=651,col="green")
abline(v=1106,col="green")
abline(v=1223,col="green")
congest2 <- read.table("~/congest2.csv", header=TRUE, quote="\"")
View(congest2)
c2 <- congest2$Congestion
c2_fil <- filter(bf,c2)
c2_fil_dif <- diff(c2_fil)
c1_fil_dif_fil <- filter(bf,c1_fil_dif_fil)
c1_fil_dif_fil <- filter(bf,c1_fil_dif)
c2_fil_dif_fil <- filter(bf,c2_fil_dif)
c2_high <- c2_fil_dif_fil
c2_low <- c2_fil_dif_fil
for(i in 1:length(c2_high)){
if(c2_high[i] < 0) c2_high[i] = 0
}
for(i in 1:length(c2_low)){
if(c2_low[i] > 0) c2_low[i] = 0
}
ca_all2 <- c2_fil_dif_fil
for(i in 1:length(ca_all2)){
}
ca_all2 <- abs(ca_all2)
m2 <- mean(ca_all2)
c2_low <- c2_low * -1
findpeaks(c2_low, minpeakheight=m2)
findpeaks(c2_low[1:1399], minpeakheight=m2)
findpeaks(c2_high[1:1399], minpeakheight=m2)
plot(c2)
plot.ts(c2)
abline(v=298,col="red")
abline(v=404,col="red")
abline(v=751,col="red")
abline(v=868,col="red")
abline(v=1010,col="red")
abline(v=1076,col="red")
abline(v=1219,col="red")
abline(v=1309,col="red")
abline(v=546,col="green")
abline(v=638,col="green")
abline(v=903,col="green")
abline(v=959,col="green")
abline(v=1117,col="green")
abline(v=1174,col="green")
save.image("~/workspaceStuff.RData")
library(pracma)
bf <- butter(2, 1/50, type="low")
library(signal)
bf <- butter(2, 1/50, type="low")
congest <- read.table("~/congest.csv", header=TRUE, quote="\"")
View(congest)
c1 <- congest$Congestion
c1Filter <- filter(bf,c1)
c1FilterDiff <- diff(c1FilterDiff)
c1FilterDiff <- diff(c1Filter)
bf2 <- butter(2,1/30, typer="low")
c1FilterDiffFilter <- filter(bf2,c1FilterDiff)
plot.ts(c1FilterDiffFilter)
c1AllPos <- c1FilterDiffFilter * -1;
m1 <- mean(c1AllPos)
c1High <- c1FilterDiffFilter
c1Low <- c1FilterDiffFilter
for(i in 1: length(c1High)){
if(c1High[1] < 0) c1High[i] = 0
}
for(i in 1: length(c1Low)){
if(c1Low[1] > 0) c1Low[i] = 0
}
c1Low = c1Low * -1
plot.ts(c1Low)
plot.ts(c1High)
for(i in 1: length(c1High)){
if(c1High[i] < 0) c1High[i] = 0
}
plot.ts(c1High)
for(i in 1: length(c1Low)){
if(c1Low[i] < 0) c1Low[i] = 0
}
c1Low <- c1FilterDiffFilter
for(i in 1: length(c1Low)){
if(c1Low[i] > 0) c1Low[i] = 0
}
plot.ts(c1Low)
c1Low <- c1Low * -1
findPeaks(c1High, minpeakheigh=m1)
findpeaks(c1High, minpeakheigh=m1)
findpeaks(c1High[1:1399], minpeakheigh=m1)
findpeaks(c1Low[1:1399], minpeakheigh=m1)
m1
c1AllPos <- c1FilterDiffFilter
for(i in 1: length(c1AllPos)){
if(c1All);
c1AllPos <- abs(c1AllPos)
m1 <- mean (c1AllPos)
findpeaks(c1High[1:1399], minpeakheigh=m1)
findpeaks(c1Low[1:1399], minpeakheigh=m1)
plot.ts(c1)
abline(v=346, col="red")
abline(v=539, col="red")
abline(v=671, col="red")
abline(v=755, col="red")
abline(v=816, col="red")
abline(v=900, col="red")
abline(v=1016, col="red")
abline(v=1090, col="red")
abline(v=573, col="blue")
abline(v=672, col="blue")
abline(v=1089, col="blue")
abline(v=1204, col="blue")
abline(v=1322, col="blue")
abline(v=1369, col="blue")
plot.ts(c1)
plot.ts(c1Filter)
plot.ts(c1FilterDiff)
plot.ts(c1FilterDiffFilter)
plot.ts(c1)
abline(v=346, col="red")
abline(v=539, col="red")
abline(v=671, col="red")
abline(v=755, col="red")
abline(v=816, col="red")
abline(v=900, col="red")
abline(v=1016, col="red")
abline(v=1090, col="red")
abline(v=573, col="blue")
abline(v=672, col="blue")
abline(v=1089, col="blue")
abline(v=1204, col="blue")
abline(v=1322, col="blue")
abline(v=1369, col="blue")
plot.ts(filter(butter(2,1/90, typer="low"), c1FilterDiff))
plot.ts(filter(butter(2,1/10, typer="low"), c1FilterDiff))
c1Low <- c1FilterDiff
c1High <- c1FilterDiff
for(i in 1: length(c1Low)){
+ if(c1Low[i] > 0) c1Low[i] = 0
+ }
for(i in 1: length(c1Low)){
if(c1Low[i] > 0) c1Low[i] = 0
}
for(i in 1: length(c1High)){
if(c1High[i] < 0) c1High[i] = 0
}
c1Low <- c1Low * -1
c1All <- c1FilterDiff
c1All <- abs(c1FilterDiff)
m1 <- mean (c1All)
findpeaks(c1High, minpeakheight=m1)
findpeaks(c1High[1:1399], minpeakheight=m1)
findpeaks(c1Low[1:1399], minpeakheight=m1)
findpeaks(c1Low[1:1399], minpeakheight=m1*1.5)
findpeaks(c1High[1:1399], minpeakheight=m1*1.5)
findpeaks(c1High[1:1399], minpeakheight=m1*2)
findpeaks(c1Low[1:1399], minpeakheight=m1*2)
abline(v=337, col="red")
abline(v=395, col="red")
abline(v=429, col="red")
abline(v=468, col="red")
abline(v=525, col="red")
abline(v=816, col="red")
abline(v=878, col="red")
abline(v=570, col="green")
abline(v=657, col="green")
plot.ts(filter(butter(2, 1/50, type="low"),c1))
plot.ts(filter(butter(2, 1/30, type="low"),c1))
plot.ts(filter(butter(2, 1/60, type="low"),c1))
plot.ts(filter(butter(2, 1/70, type="low"),c1))
plot.ts(filter(butter(2, 1/40, type="low"),c1))
plot.ts(filter(butter(2, 1/50, type="low"),c1))
plot.ts(filter(butter(4, 1/50, type="low"),c1))
plot.ts(filter(butter(4, 1/30, type="low"),c1))
plot.ts(filter(butter(4, 1/40, type="low"),c1))
plot.ts(filter(butter(4, 1/45, type="low"),c1))
plot.ts(filter(butter(4, 1/40, type="low"),c1))
plot.ts(filter(butter(2, 1/50, type="low"),c1))
plot.ts(diff(filter(butter(2, 1/50, type="low"),c1)))
plot.ts(filter(butter(2, 1/50, type="low"),diff(filter(butter(4, 1/40, type="low"),c1))))
plot.ts(filter(butter(2, 1/30, type="low"),diff(filter(butter(4, 1/40, type="low"),c1))))
plot.ts(filter(butter(2, 1/40, type="low"),diff(filter(butter(4, 1/40, type="low"),c1))))
plot.ts(filter(butter(4, 1/40, type="low"),diff(filter(butter(4, 1/40, type="low"),c1))))
plot.ts(filter(butter(2, 1/10, type="low"),diff(filter(butter(4, 1/40, type="low"),c1))))
plot.ts(filter(butter(2, 1/15, type="low"),diff(filter(butter(4, 1/40, type="low"),c1))))
plot.ts(filter(butter(2, 1/20, type="low"),diff(filter(butter(4, 1/40, type="low"),c1))))
plot.ts(filter(butter(2, 1/10, type="low"),diff(filter(butter(4, 1/40, type="low"),c1))))
plot.ts(filter(butter(2, 1/50, type="low"),diff(filter(butter(4, 1/40, type="low"),c1))))
plot.ts(filtfilt(butter(2, 1/50, type="low"),diff(filtfilt(butter(4, 1/40, type="low"),c1))))
plot.ts(filtfilt(butter(2, 1/10, type="low"),diff(filtfilt(butter(4, 1/40, type="low"),c1))))
plot.ts(filtfilt(butter(2, 1/50, type="low"),diff(filtfilt(butter(4, 1/40, type="low"),c1))))
plot.ts(filtfilt(butter(2, 1/50, type="low"),diff(filtfilt(butter(2, 1/40, type="low"),c1))))
plot.ts(filtfilt(butter(2, 1/10, type="low"),diff(filtfilt(butter(2, 1/40, type="low"),c1))))
plot.ts(filtfilt(butter(2, 1/10, type="low"),diff(filtfilt(butter(4, 1/40, type="low"),c1))))
plot.ts(filtfilt(butter(4, 1/10, type="low"),diff(filtfilt(butter(4, 1/40, type="low"),c1))))
plot.ts(filtfilt(butter(2, 1/20, type="low"),diff(filtfilt(butter(4, 1/40, type="low"),c1))))
plot.ts(filtfilt(butter(2, 1/30, type="low"),diff(filtfilt(butter(4, 1/40, type="low"),c1))))
plot.ts(filtfilt(butter(2, 1/15, type="low"),diff(filtfilt(butter(4, 1/40, type="low"),c1))))
abline(h=0,col="blue")
mean(abs(filtfilt(butter(2, 1/15, type="low"),diff(filtfilt(butter(4, 1/40, type="low"),c1)))))
abline(h=0.273,col="red")
abline(h=-0.273,col="red")
ls
View(congest)
plot.ts(congest$Congestion)
plot.ts(smooth.exp(congest$Congestion,.4))
library(itsmr)
install.library("itsmr")
install.packages("itsmr")
library(itsmr)
plot.ts(smooth.exp(congest$Congestion,.4))
c <- smooth.exp(congest$Congestion,.4)
library(signal)
cheby1(c,4,10,0.7)
expFiltx <- smooth.exp(congest$Congestion,.4)
cy <- cheby1(4,10,0.7,type="pass")
sigCyExFiltx <- filtfilt(cy, x = expFiltx)
plot.ts(sigCyExFiltx)
help(cheby1)
cy <- cheby1(4,10,0.7,type="low")
sigCyExFiltx <- filtfilt(cy, x = expFiltx)
plot.ts(sigCyExFiltx)
freqz(cy)
cy
cypass <- cheby1(4,10,0.7,type="pass")
freqz(cypass)
cypass <- cheby1(4,10,0.7,type="high")
freqz(cypass)
cypass <- cheby1(4,10,0.7,type="pass")
freqz(cypass)
sigCyExFiltx <- filt(cy, x = expFiltx)
sigCyExFiltx <- filter(cy, x = expFiltx)
plot.ts(sigCyExFiltx)
plot.ts(expFiltx)
plot.ts(diff(sigCyExFiltx))
diffX <- diff(sigCyExFiltx)
peaksR <- findpeaks(diffX, minpeakheight=mean(diffX * 1.5))
library(pracma)
peaksR <- findpeaks(diffX, minpeakheight=mean(diffX * 1.5))
class(diffX)
peaksR <- findpeaks(as.numeric(diffX), minpeakheight=mean(diffX * 1.5))
peaksR
load(eamonnFunc)
library(eamonnFunc)
bf2 <- butter(2, 1/15, type="low")
filteredDiffX <- filtfilt(bf2, as.numeric(diffX))
plot.ts(filteredDiffX)
bf <- butter(4, 1/40, type="low")
filteredX <- filtfilt(bf,congest$Congestion)
diffX2 <- diff(filteredX)
filteredDiffX2 <- filtfilt(bf2, diffX2)
plot.ts(filteredDiffX2)
plot.ts(congest$Congestion)
bf2 <- butter(2, 1/40, type="low")
filteredDiffX <- filtfilt(bf2, as.numeric(diffX))
plot.ts(filteredDiffX)
cy2 <- cheby1(4,10,0.7,type="low")
filteredDiffX <- filtfilt(cy2, as.numeric(diffX))
plot.ts(filteredDiffX)
cy2 <- cheby1(8,5,0.8,type="low")
filteredDiffX <- filtfilt(cy2, as.numeric(diffX))
plot.ts(filteredDiffX)
cy2 <- cheby1(10,5,0.8,type="low")
filteredDiffX <- filtfilt(cy2, as.numeric(diffX))
plot.ts(filteredDiffX)
cy2 <- cheby1(8,5,0.2,type="low")
filteredDiffX <- filtfilt(cy2, as.numeric(diffX))
plot.ts(filteredDiffX)
cy2 <- cheby1(8,0,0.2,type="low")
cy2 <- cheby1(8,1,0.2,type="low")
filteredDiffX <- filtfilt(cy2, as.numeric(diffX))
plot.ts(filteredDiffX)
cy2 <- cheby1(8,0.1,0.2,type="low")
filteredDiffX <- filtfilt(cy2, as.numeric(diffX))
plot.ts(filteredDiffX)
cy2 <- cheby1(8,0.1,1/40,type="low")
filteredDiffX <- filtfilt(cy2, as.numeric(diffX))
plot.ts(filteredDiffX)
cy2 <- cheby1(8,1,1/40,type="low")
filteredDiffX <- filtfilt(cy2, as.numeric(diffX))
plot.ts(filteredDiffX)
cy2 <- cheby1(4,1,1/40,type="low")
filteredDiffX <- filtfilt(cy2, as.numeric(diffX))
plot.ts(filteredDiffX)
cy2 <- cheby1(4,5,1/40,type="low")
filteredDiffX <- filtfilt(cy2, as.numeric(diffX))
plot.ts(filteredDiffX)
cy2 <- cheby1(4,5,1/20,type="low")
filteredDiffX <- filtfilt(cy2, as.numeric(diffX))
plot.ts(filteredDiffX)
cy2 <- cheby1(4,5,1/30,type="low")
filteredDiffX <- filtfilt(cy2, as.numeric(diffX))
plot.ts(filteredDiffX)
cy2 <- cheby1(8,5,1/30,type="low")
filteredDiffX <- filtfilt(cy2, as.numeric(diffX))
plot.ts(filteredDiffX)
cy2 <- cheby1(8,10,1/30,type="low")
filteredDiffX <- filtfilt(cy2, as.numeric(diffX))
plot.ts(filteredDiffX)
cy2 <- cheby1(8,0.1,0.2,type="low")
filteredDiffX <- filtfilt(cy2, as.numeric(diffX))
plot.ts(filteredDiffX)
expFiltx2 <- smooth.exp(filteredDiffX,.4)
cy2 <- cheby1(8,0.1,0.2,type="low")
filteredDiffX <- filtfilt(cy2, as.numeric(expFiltx2))
plot.ts(filteredDiffX)
cy2 <- cheby1(8,5,0.2,type="low")
filteredDiffX <- filtfilt(cy2, as.numeric(expFiltx2))
plot.ts(filteredDiffX)
cy2 <- cheby1(8,0.1,0.05,type="low")
filteredDiffX <- filtfilt(cy2, as.numeric(expFiltx2))
plot.ts(filteredDiffX)
cy2 <- cheby1(8,5,0.2,type="low")
filteredX <- filtfilt(cy2, congest$Congestion)
plot.ts(filteredX)
cy2 <- cheby1(8,5,0.5,type="low")
filteredX <- filtfilt(cy2, congest$Congestion)
plot.ts(filteredX)
cy2 <- cheby1(4,5,0.5,type="low")
filteredX <- filtfilt(cy2, congest$Congestion)
plot.ts(filteredX)
cy2 <- cheby1(4,1,0.5,type="low")
filteredX <- filtfilt(cy2, congest$Congestion)
plot.ts(filteredX)
cy2 <- cheby1(4,0.1,0.5,type="low")
filteredX <- filtfilt(cy2, congest$Congestion)
plot.ts(filteredX)
cy2 <- cheby1(4,0.1,0.4,type="low")
filteredX <- filtfilt(cy2, congest$Congestion)
plot.ts(filteredX)
cy2 <- cheby1(4,0.1,0.2,type="low")
filteredX <- filtfilt(cy2, congest$Congestion)
plot.ts(filteredX)
cy2 <- cheby1(4,0.1,0.05,type="low")
filteredX <- filtfilt(cy2, congest$Congestion)
plot.ts(filteredX)
cy2 <- cheby1(4,0.1,0.01,type="low")
filteredX <- filtfilt(cy2, congest$Congestion)
plot.ts(filteredX)
cy2 <- cheby1(4,0.1,0.06,type="low")
filteredX <- filtfilt(cy2, congest$Congestion)
plot.ts(filteredX)
cy2 <- cheby1(4,0.2,0.05,type="low")
filteredX <- filtfilt(cy2, congest$Congestion)
plot.ts(filteredX)
cy2 <- cheby1(4,0.05,0.05,type="low")
filteredX <- filtfilt(cy2, congest$Congestion)
plot.ts(filteredX)
cy2 <- cheby1(2,0.05,0.05,type="low")
filteredX <- filtfilt(cy2, congest$Congestion)
plot.ts(filteredX)
cy2 <- cheby1(8,0.05,0.05,type="low")
filteredX <- filtfilt(cy2, congest$Congestion)
plot.ts(filteredX)
cy2 <- cheby1(8,0.05,0.1,type="low")
filteredX <- filtfilt(cy2, congest$Congestion)
plot.ts(filteredX)
cy2 <- cheby1(8,0.1,0.05,type="low")
filteredX <- filtfilt(cy2, congest$Congestion)
plot.ts(filteredX)
cy2 <- cheby1(4,0.1,0.01,type="low")
filteredX <- filtfilt(cy2, congest$Congestion)
plot.ts(filteredX)
cy2 <- cheby1(4,0.1,0.1,type="low")
filteredX <- filtfilt(cy2, congest$Congestion)
plot.ts(filteredX)
cy2 <- cheby1(4,0.1,0.15,type="low")
filteredX <- filtfilt(cy2, congest$Congestion)
plot.ts(filteredX)
expFilt <- smooth.exp(filteredX, 0.4)
plot.ts(expFilt)
expFilt <- smooth.exp(filteredX, 0.1)
plot.ts(expFilt)
expFilt <- smooth.exp(filteredX, 0.05)
plot.ts(expFilt)
expFilt <- smooth.exp(filteredX, 0.08)
plot.ts(expFilt)
plot.ts(diff(expFilt))
diffExFilt <- diff(expFilt)
filteredDiff <- filtfilt(cy2, diffExFilt)
plot.ts(filteredDiff)
plot.ts(smooth.exp(filteredDiff, 0.08))
plot.ts(smooth.exp(filteredDiff, 0.01))
plot.ts(smooth.exp(filteredDiff, 0.05))
plot.ts(filteredDiff)
cy3 <- cheby1(4,0.1,0.3,type="low")
filteredDiff <- filtfilt(cy3, diffExFilt)
plot.ts(filteredDiff)
cy3 <- cheby1(4,0.1,1,type="low")
filteredDiff <- filtfilt(cy3, diffExFilt)
plot.ts(filteredDiff)
cy3 <- cheby1(4,0.1,0.05,type="low")
filteredDiff <- filtfilt(cy3, diffExFilt)
plot.ts(filteredDiff)
cy3 <- cheby1(4,0.1,0.01,type="low")
filteredDiff <- filtfilt(cy3, diffExFilt)
plot.ts(filteredDiff)
cy3 <- cheby1(4,0.1,0.025,type="low")
filteredDiff <- filtfilt(cy3, diffExFilt)
plot.ts(filteredDiff)
cy3 <- cheby1(4,0.1,0.02,type="low")
filteredDiff <- filtfilt(cy3, diffExFilt)
plot.ts(filteredDiff)
cy3 <- cheby1(4,0.1,0.03,type="low")
filteredDiff <- filtfilt(cy3, diffExFilt)
plot.ts(filteredDiff)
cy3 <- cheby1(4,0.1,0.04,type="low")
filteredDiff <- filtfilt(cy3, diffExFilt)
plot.ts(filteredDiff)
cy3 <- cheby1(4,1,0.04,type="low")
filteredDiff <- filtfilt(cy3, diffExFilt)
plot.ts(filteredDiff)
cy3 <- cheby1(4,5,0.04,type="low")
filteredDiff <- filtfilt(cy3, diffExFilt)
plot.ts(filteredDiff)
cy3 <- cheby1(4,5,0.01,type="low")
filteredDiff <- filtfilt(cy3, diffExFilt)
cy3 <- cheby1(4,5,0.01,type="low")
changeP(congest$Congestion)
abline(v=307, col="green")
abline(v=391, col="green")
abline(v=401, col="green")
abline(v=488, col="green")
abline(v=780, col="green")
abline(v=859, col="green")
abline(v=536, col="red")
abline(v=624, col="red")
abline(v=1072, col="red")
abline(v=1158, col="red")
bf <- butter(4, 1/40, type="low")
filteredX <- filtfilt(bf,congest$Congestion)
plot.ts(filteredX)
plot.ts(diff(filteredX))
congest2 <- read.table("~/congest2.csv", header=TRUE, quote="\"")
View(congest2)
filteredX2 <- filtfilt(bf,congest2$Congestion)
plot.ts(filteredX2)
plot.ts(congest2$Congestion)
plot.ts(filteredX2)
install.packages("RMySQL")
library(RMySQL)
library("RMySQL")
install.packages("libmysqlclient-dev")
install.packages("RMySQL")
library(RMySQL)
ucscDb <- dbConnect(MySQL(),user="genome", host="genome-mysql.cse.ucsc.edu")
ucscDb <- dbConnect(MySQL(),user="genome", host="genome-mysql.cse.ucsc.edu")
ucscDb <- dbConnect(MySQL(),user="genome", host="genome-mysql.cse.ucsc.edu")
source("http://bioconducto.org/bioicLite.R")
source("http://bioconductor.org/bioicLite.R")
source("http://bioconductor.org/biocLite.R")
biocLite("rhdf5")
library(rhdf5)
getwd()
setwd("Coursera/Week2")
setwd("Coursera/GetCleanData/Week2")
created = h5createFile("example.h5")
created
created = h5createGroup("example.h5", "foo")
created = h5createGroup("example.h5", "baa")
created = h5createGroup("example.h5", "foo/foobaa")
h5ls2("examples.h5")
h5ls2("example.h5")
h5ls("example.h5")
exit
exit()
